# 指令: /odog

## 簡介
顯示 Odog 轉蛋 (Gacha) 的玩家排名，可依特定轉蛋池與時間區間進行篩選。

## 語法
```
/odog [gacha_id] [period]
```

## 參數說明

| 參數名 | 類型 | 說明 | 是否必需 |
| :--- | :--- | :--- | :--- |
| `gacha_id` | String | 要查詢的轉蛋池 ID。支援自動完成。若留空，則顯示所有轉蛋池的總合排名。 | 否 |
| `period` | String | 查詢的時間區間。格式為 `[數字]d` (例如: `7d`) 或 `all`。預設為 `7d`。 | 否 |

## 回傳值
成功執行後，機器人會回傳一個預設為**防劇透 (Spoiler)** 的 Discord 容器 (Container) 訊息，其中包含：
- **標題**: 顯示排名的轉蛋池名稱與時間區間。
- **排名列表**:
    - 最多顯示前 15 名玩家。
    - 每位玩家會顯示其暱稱、各稀有度的抽取次數統計，以及總抽取次數。

## 詳細說明
`/odog` 指令提供了一個查詢轉蛋活動中玩家運氣與投入程度的排行榜。使用者可以查看特定轉蛋池的排名，或是不指定 `gacha_id` 來查看全域的總排名。

- **時間區間 (`period`)**: 此參數允許使用者查看特定時間範圍內的排名，例如 `7d` 代表最近七天，`30d` 代表最近三十天，而 `all` 則代表從有紀錄以來的總排名。
- **自動完成**: `gacha_id` 參數支援自動完成，當使用者開始輸入時，會動態顯示符合的轉蛋池選項，方便使用者選取。
- **防劇透**: 為了避免排名直接顯示在頻道中造成洗頻或爭議，回傳的訊息預設為防劇透，需要手動點擊才會顯示內容。

## 使用範例
**查看最近 7 天的全域排名:**
```
/odog
```

**查看特定轉蛋池「fes_gacha」的總排名:**
```
/odog gacha_id: fes_gacha period: all
```

## 錯誤處理/例外情況
- **無效的 `period` 格式**: 使用者輸入了無法被解析的時間格式 (例如: `7days` 而非 `7d`)。
- **查無資料**: 在指定的轉蛋池與時間區間內找不到任何排名資料。
- **資料庫錯誤**: 在查詢排名資料時發生後端錯誤。

## 相關條目
- N/A