## 簡介
管理客服單系統的互動面板，包含設定、新增/移除客服單類型、列表查詢及外觀客製化。

## 語法
```
/panel <subcommand> [options]
```

## 參數說明
此指令需要**管理員 (Administrator)** 權限。

### `setup` 子指令
在預先設定好的頻道中，建立或更新客服單面板。

| 參數名 | 類型 | 說明 | 是否必需 |
| :--- | :--- | :--- | :--- |
| N/A | N/A | N/A | N/A |

### `add` 子指令
新增一個客服單類型，將會顯示在面板上作為一個按鈕或選單選項。

| 參數名 | 類型 | 說明 | 是否必需 |
| :--- | :--- | :--- | :--- |
| `type_id` | String | 此類型的唯一識別碼 (例如: `general_support`)。 | 是 |
| `label` | String | 顯示在按鈕或選單上的文字 (例如: `一般諮詢`)。 | 是 |
| `style` | String | 按鈕的視覺樣式。預設為 `Secondary`。 | 否 |
| `emoji` | String | 顯示在按鈕或選單上的表情符號。 | 否 |

### `remove` 子指令
從系統中移除一個已存在的客服單類型。

| 參數名 | 類型 | 說明 | 是否必需 |
| :--- | :--- | :--- | :--- |
| `type_id` | String | 要移除的客服單類型的唯一識別碼。支援自動完成。 | 是 |

### `list` 子指令
列出所有已設定的客服單類型及其詳細資訊。

| 參數名 | 類型 | 說明 | 是否必需 |
| :--- | :--- | :--- | :--- |
| N/A | N/A | N/A | N/A |

### `customize` 子指令
客製化客服單面板嵌入式訊息 (Embed) 的外觀。

| 參數名 | 類型 | 說明 | 是否必需 |
| :--- | :--- | :--- | :--- |
| `title` | String | 嵌入訊息的標題。 | 否 |
| `author_icon_url` | String | 嵌入訊息作者區塊的圖示 URL。 | 否 |
| `thumbnail_url` | String | 嵌入訊息的縮圖 URL。 | 否 |
| `footer_icon_url` | String | 嵌入訊息頁腳的圖示 URL。 | 否 |
| `message_id` | String | 一則現有訊息的 ID，其內容將被用作面板描述，原訊息會被刪除。 | 否 |

## 回傳值
- **成功**: 指令執行成功後，會回傳一則短暫的 (ephemeral) 確認訊息。
- **失敗**: 如果發生錯誤（例如：權限不足、設定不完整），會回傳一則短暫的錯誤訊息。

## 詳細說明
`/panel` 指令是設定客服單系統核心互動介面的管理工具。管理員可以透過它完整地控制客服單的分類與面板外觀。

- **`setup`**: 此指令會讀取所有已新增的客服單類型，並在 `/config` 中設定的 `panel_channel` 發送一個新的面板。如果類型少於等於 5 種，會以按鈕 (Buttons) 呈現；超過 5 種則會自動轉換為下拉式選單 (Select Menu)。
- **`add` / `remove` / `list`**: 這組指令用於管理可用的客服單類型，這些類型會直接影響到 `setup` 所產生的面板內容。
- **`customize`**: 此指令允許對面板的嵌入訊息進行深度美化。特別是 `message_id` 選項，它提供了一個方便的方式來使用已經排版好的複雜訊息內容作為面板描述，同時會自動刪除該原始訊息以保持頻道整潔。

## 使用範例
**1. 新增一個客服單類型:**
```
/panel add type_id: tech_support label: 技術支援 style: Primary emoji: 🔧
```

**2. 客製化面板外觀:**
```
/panel customize title: 服務中心 thumbnail_url: https://example.com/icon.png
```

**3. 建立面板:**
(請先用 `/config` 設定好 `panel_channel`)
```
/panel setup
```

## 錯誤處理/例外情況
- **權限不足**: 非管理員使用者嘗試執行此指令。
- **設定不完整**: 在執行 `/panel setup` 之前，未使用 `/config` 設定 `panel_channel`，或尚未新增任何客服單類型。
- **頻道/訊息無效**: 在 `setup` 或 `customize` 中提供了無效的頻道 ID 或訊息 ID，或機器人沒有權限存取。

## 相關條目
- `/config`
- `/ticket`